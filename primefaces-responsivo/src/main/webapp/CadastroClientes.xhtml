<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/Layout.xhtml">
	
	<ui:define name="content">

		<h1 class="rgp-page-title">Cadastro de Clientes</h1>
	
		<h:form>
			<p:toolbar>
				<p:toolbarGroup>
					<p:commandButton value="Salvar" />
				</p:toolbarGroup>
				<p:toolbarGroup align="right">
					<p:commandButton value="Novo" />
					<p:button value="Pesquisa" outcome="PesquisaClientes" />
				</p:toolbarGroup>
			</p:toolbar>
		</h:form>
			
		<p:tabView style="margin-top: 20px">
		
			<p:tab title="Dados Gerais">
				<h:form>
					<div class="ui-g form-container ui-fluid">
						<div class="ui-g-12 ui-md-6 no-padding">
							<div class="ui-g-12 form-group">
								<p:outputLabel value="Nome" for="nome" />
								<p:inputText id="nome" required="true" />
							</div>
							<div class="ui-g-12 form-group">
								<p:outputLabel value="Telefone" for="telefone" />
								<p:inputText id="telefone" required="true" />
							</div>
							<div class="ui-g-12 form-group">
								<p:outputLabel value="E-mail" for="email" />
								<p:inputText id="email" required="true" />
							</div>
							<div class="ui-g-12 form-group">
								<p:outputLabel value="Data Nascimento" for="nascimento" />
								<p:calendar id="nascimento" />
							</div>
						</div>
						<div class="ui-g-12 ui-md-6 no-padding">
							<div class="ui-g-12 form-group">
								<p:outputLabel value="Celular" for="celular" />
								<p:inputText id="celular" />
							</div>
							<div class="ui-g-12 form-group">
								<p:outputLabel value="CPF" for="cpf" />
								<p:inputMask id="cpf" mask="999.999.999-99" required="true" />
							</div>
							<div class="ui-g-12 form-group">
								<p:outputLabel value="Estado" for="estado" />
								<p:selectOneMenu id="estado">
									<f:selectItem itemLabel="Selecione" />
									<f:selectItem itemLabel="Santa Catarina" />
									<f:selectItem itemLabel="São Paulo" />
								</p:selectOneMenu>
							</div> 
							<div class="ui-g-12 form-group">
								<p:outputLabel value="Parcelamento Liberado" for="parcLiberado" />
								<p:selectOneRadio id="parcLiberado" converter="javax.faces.Boolean">
									<f:selectItem itemLabel="Sim" itemValue="true" />
									<f:selectItem itemLabel="Não" itemValue="false" />
								</p:selectOneRadio>
							</div> 
						</div>
					</div>
				</h:form>
			</p:tab>
			
			<p:tab title="Endereços">
				<h:form>
					<p:commandButton value="Novo Endereço"
						oncomplete="PF('novoEnderecoDialog').show()" />
					
					<p:dataTable value="#{clientesManager.clienteEdicao.enderecos}" var="endereco"
						emptyMessage="O cliente ainda não possui endereços cadastrados."
						style="margin-top: 10px">
						
						<p:column headerText="Número" sortBy="#{endereco.numero}">
							<h:outputText value="#{endereco.numero}" />
						</p:column>
						<p:column headerText="Bairro" sortBy="#{endereco.bairro}">
							<h:outputText value="#{endereco.bairro}" />
						</p:column>
						<p:column headerText="Cidade" sortBy="#{endereco.cidade}">
							<h:outputText value="#{endereco.cidade}" />
						</p:column>
					</p:dataTable>
				</h:form>
			</p:tab>
			
			<p:tab title="Observações">
				<h:form>
					<div class="ui-g form-container ui-fluid">
						<p:inputTextarea rows="7" placeholder="Observações..."
							maxlength="500"
							counter="obsCounter" counterTemplate="{0} caracteres restante(s)">
						</p:inputTextarea>
						<h:outputText id="obsCounter" />
					</div>
				</h:form>
			</p:tab>
			
		</p:tabView>
		
		<p:dialog header="Novo Endereço" 
			id="novoEnderecoDialog" widgetVar="novoEnderecoDialog"
			resizable="false" responsive="true">
			<h:form>
				<div class="ui-fluid">
					<div class="ui-g form-container">
						<div class="ui-g-12 form-group">
							<p:outputLabel value="Logradouro" for="logradouro" />
							<p:inputText id="logradouro" placeholder="Ex. Rua Osvaldo Reis" required="true" />
						</div>
						<div class="ui-g-12 form-group">
							<p:outputLabel value="Número" for="numero" />
							<p:inputNumber id="numero" placeholder="Ex. 1245" required="true"
								thousandSeparator="" decimalPlaces="0" decimalSeparator="," maxValue="99999999" />
						</div>
						<div class="ui-g-12 form-group">
							<p:outputLabel value="Bairro" for="bairro" />
							<p:inputText id="bairro" placeholder="Ex. Bairro" required="true" />
						</div>
						<div class="ui-g-12 form-group">
							<p:outputLabel value="Cidade" for="cidade" />
							<p:inputText id="cidade" placeholder="Ex. Itajaí" required="true" />
						</div>
					</div>
				</div>						
				<div class="ui-g">
					<div class="ui-g-12">
						<p:commandButton value="Salvar" icon="fa  fa-save"
							style="float: right">
						</p:commandButton>
						<p:commandButton value="Fechar" icon="fa  fa-ban"
							type="button" onclick="PF('novoEnderecoDialog').hide();"
							style="float: right">
						</p:commandButton>
					</div>
				</div>
			</h:form>
		</p:dialog>
		
	</ui:define>
	
</ui:composition>